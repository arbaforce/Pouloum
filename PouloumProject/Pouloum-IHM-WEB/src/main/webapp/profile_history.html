<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>Historique - Pouloum</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel='stylesheet' type='text/css' href='STYLE/newhtml.css'>
        <link rel='stylesheet' type='text/css' href='STYLE/profile_history.css'>
    </head>
    <body>
        <div id="wrapper" class="container-fluid">
            <div id="container_navbar_and_alert" class="container-fluid" style="max-height: 16vh">
                <div id="container_navbar_row" class="row mx-0">
                    <script src="SCRIPT/navbar_template.js"></script>
                </div>
                <div id="container_alert_row" class="row mx-0 w-100">
                    &nbsp;
                </div>
            </div> <!--#container_navbar_and_alert -->



            <div id="search_result_global_container" class="container w-100">
                <div id="search_result_global_row" class="row h-100 w-100 mx-0 my-0 px-0 py-0" >
                    <div id="search_result_list_global_col" class="col h-100 w-100 px-0 py-0">
                        <div id="loading_div">
                            <img src="IMG/loading.gif">
                        </div>
                        <div id="search_result_list_global_container" class="container h-100 w-100">

                        </div><!--#search_result_list_global_container -->
                    </div><!--#search_result_list_global_col -->
                </div><!--#search_result_global_row -->
            </div><!--#search_result_global_container -->

        </div><!--#wrapper-->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src="SCRIPT/profile_history.js"></script>
        <script src="SCRIPT/dynamic_json.js"></script>
        
        <script>
// addResultDemo();
        </script>
        
        <script>
// gets called automatically
// once the userID is retrieved
function ready_userID(userID) {
    document.getElementById("search_result_list_global_container").style.display = "none";
    document.getElementById("loading_div").style.display = "block";
    $.ajax({
        url: './AjaxAction',
        type: 'POST',
        data: {
            'action': 'getUserEvents',
            'history': true,
            'id': userID
        },
        datatype: 'json'
    }).done(function (data) {
        document.getElementById("loading_div").style.display = "none";
        document.getElementById("search_result_list_global_container").style.display = "block";
        var OK = data.result;
        if (OK) {
            var events = data.events;
			page_add_events(events);
        }
    });
}
        </script>
        <!-- retrieves the userID -->
        <script src="SCRIPT/userid.js"></script>
        <!-- this script should be put at the very end -->
    </body>
</html>
